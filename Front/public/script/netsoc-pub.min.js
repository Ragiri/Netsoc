var NJQuery;const _config={adSquareTag:adSquareTag="width_ad",adHSquareTag:adHSquareTag="height_ad",likeTag:likeTag="like_add",link:link=window.location.href};let _data;const _css="\n#card_width {max-width: 100%; cursor: default; display: none; box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);transition: 0.3s;background: radial-gradient(#76b2fe, #b69efe);height: 180px;width: 360px;border-radius: 12%;display: flex;}\n#card_width:hover {box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);cursor: pointer;}\n#container {margin-top: -12%;padding-left: 10%;}\n.img_style {width:40%;padding: 4%;}\n.img_height {height: 63%;padding: 7%;width: 85%;}\n.text_desc {font-size: 15px;}\n#card_height {height: 300px;width: 18%;cursor: default; box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);transition: 0.3s;background: radial-gradient(#76b2fe, #b69efe);border-radius: 12%;}\n#card_height:hover {box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);cursor: pointer;}\n.button {width: 120px;padding-top: 30px;padding-bottom: 30px;text-align: center;color: #000;text-transform: uppercase;font-weight: 600;margin-left: 30px;margin-bottom: 30pxcursor: pointer;display: inline-block;}\n.button-1 {background-color: transparent;border: 3px solid #00d7c3;border-radius: 50px;-webkit-transition: all .15s ease-in-out;transition: all .15s ease-in-out;color: #00d7c3;}\n.button-1:hover {box-shadow: 0 0 10px 0 #00d7c3 inset, 0 0 20px 2px #00d7c3;border: 3px solid #00d7c3;}\n",netsoc_add_width=t=>`\n\t<div id='card_width'>\n\t  <img src=${t.url}\n\t\t\tclass="img_style" />\n\t\t<div id=''>\n\t\t  <h3>${t.name}</h3>\n\t\t  <span>${t.desc}</span>\n\t\t</div>\n\t  </div>\n\t`,netsoc_like_ad=t=>`\n\t <div id='like_btn'>\n\t\t<div class="button button-1">Like ${t}</div>\n\t  </div>\n\t`,netsoc_add_height=t=>`\n\t  <div id="card_height">\n\t\t<img src=${t.url}\n\t\t\tclass="img_height" />\n\t\t<div id='container'>\n\t\t  <h3>${t.name}</h3>\n\t\t  <span class="text_desc">${t.desc}</span>\n\t\t</div>\n\t  </div>\n\t`;function getRandomItem(t){return t[Math.floor(Math.random()*t.length)]}async function _load(){let t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(_css)),document.getElementsByTagName("head")[0].appendChild(t);let e=document.createElement("link");if(e.rel="stylesheet",e.href="https://fonts.googleapis.com/css?family=Lato&display=swap",document.getElementsByTagName("head")[0].appendChild(e),0!==NJQuery(`#${_config.adSquareTag}`).length){const t=getRandomItem((await window.fetch("http://localhost:8080/website").then(async t=>t.json())).websites);_data=t,NJQuery(`#${_config.adSquareTag}`).html(netsoc_add_width(t?{url:t.IMGURL,name:t.NAME,desc:t.DESCRIPTION}:{url:"https://pbs.twimg.com/media/FNe-GNSagAozP9D?format=jpg&name=large",name:"truc",desc:"some desc"}))}if(0!==NJQuery(`#${_config.adHSquareTag}`).length){const t=getRandomItem((await window.fetch("http://localhost:8080/website").then(async t=>t.json())).websites);_data=t,NJQuery(`#${_config.adHSquareTag}`).html(netsoc_add_height(t?{url:t.IMGURL,name:t.NAME,desc:t.DESCRIPTION}:{url:"https://pbs.twimg.com/media/FNe-GNSagAozP9D?format=jpg&name=large",name:"truc",desc:"some desc"}))}if(0!==NJQuery(`#${_config.likeTag}`).length){let t=NJQuery(`#${_config.likeTag}`).data("netsoc-name"),e=0;const n=await window.fetch(`http://localhost:8080/websiteName/${t}`).then(async t=>t.json());n.websites&&(e=n.websites.NB_LIKE),NJQuery(`#${_config.likeTag}`).html(netsoc_like_ad(e))}}const _initJQuery=()=>{NJQuery(()=>{_load(),NJQuery(document).on("click","#card_width",async()=>{window.fetch("http://localhost:8080/website/view",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:_data.ID_LINK})}).then(async t=>{console.log(t),window.location.href=_data.LINK})}),NJQuery(document).on("click","#card_height",async()=>{window.fetch("http://localhost:8080/website/view",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:_data.ID_LINK})}).then(async t=>{console.log(t),window.location.href=_data.LINK})}),NJQuery(document).on("click","#like_btn",async()=>{let t=NJQuery(`#${_config.likeTag}`).data("netsoc-name"),e=NJQuery(`#${_config.likeTag}`).data("netsoc-desc"),n=NJQuery(`#${_config.likeTag}`).data("netsoc-img");const a=await window.fetch(`http://localhost:8080/websiteName/${t}`).then(async t=>t.json());console.log(a),a.websites?window.fetch("http://localhost:8080/website/like",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.websites.ID_LINK})}).then(async t=>{console.log(t.json())}):window.fetch("http://localhost:8080/website",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,description:e,img_url:n,link:_config.link})}).then(async t=>{console.log(t.json())})})})};!function(t,e,n){let a=!0;if(window.jQuery){jQuery.fn.jquery.split(".")[0]<3&&(a=!1)}else a=!1;if(a)NJQuery=$.noConflict(!0),_initJQuery();else{var i,o=t.getElementsByTagName(e)[0];if(t.getElementById(n))return;(i=t.createElement(e)).id=n,i.onload=function(){NJQuery=$.noConflict(!0),_initJQuery()},i.src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js",o.parentNode.insertBefore(i,o)}}(document,"script","jquery-netsoc");